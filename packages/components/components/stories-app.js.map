{"file":"stories-app.js","mappings":";;;;;;;AAAA,MAAM,MAAM,GAAG,sDAAsD;;MCcxD,GAAG;EALhB;;;;;;;;;IAaU,YAAO,GAAiB,EAAE,CAAC;;;;IAKZ,UAAK,GAAa,KAAK,CAAC;GA2DhD;;;;;;;;EAjDS,aAAa,CAAC,KAAqB;IAC3C,MAAM,OAAO,GAAiB;MAC5B,IAAI,oBAAM,KAAK,CAAC,IAAI,CAAC;MACrB,QAAQ,oBAAM,KAAK,CAAC,QAAQ,CAAC;MAC7B,UAAU,oBAAM,KAAK,CAAC,UAAU,CAAC;MACjC,WAAW,oBAAM,KAAK,CAAC,IAAI,CAAC;KAC7B,CAAC;IACF,OAAO,OAAO,CAAC;GAChB;;;;;;EAQC,MAAM;;IAEJ,MAAM,OAAO,GAAG,GAAG,CAAC,iBAAiB,EAAE,CAAC;;IAExC,MAAM,KAAK,GAAG,KAAK,CAAC,KAAK,IAAI,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,SAAS,CAAC,CAAC;IAC3E,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAC,OAAO,EAAE,KAAK,CAAC,CAAA;;IAEpC,GAAG,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;;IAEzB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC7B,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAA;;IAEtC,MAAM,OAAO,GAA6B,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,SAAS,CAAC;IACxF,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;;IAExB,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACtC,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,KAAK,CAAC,CAAA;;;GAG9C;;EAED,gBAAgB;IACd,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAC,IAAI,CAAC,OAAO,CAAE,CAAA;IAC7C,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;;IAE7B,IAAI,CAAC,MAAM,EAAE,CAAC;GACf;EAED,MAAM;IACJ,QACE,eAAO,EACP;GACH;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["./src/components/app/app.scss?tag=stories-app&encapsulation=shadow","./src/components/app/app.tsx"],"sourcesContent":["@import \"../../themes/stories.globals\";\n\n:host {\n  height: 100%;\n  width: 100%;\n  background-color: coral;\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { Component, Prop, h, Event, Listen } from '@stencil/core';\nimport type { EventEmitter } from '@stencil/core';\n\nimport { api } from '../../api';\nimport type { AppState} from '../../store';\nimport { state } from '../../store';\nimport type { StoryModules, StoryComponent, StoryContext } from '../../types';\n\n@Component({\n  tag: 'stories-app',\n  styleUrl: 'app.scss',\n  shadow: true,\n})\nexport class App {\n\n  @Event() storyChange: EventEmitter<StoryComponent>;\n  @Event() storyContextChange: EventEmitter<StoryContext>;\n\n  /**\n   * Story Modules\n   */\n  @Prop() modules: StoryModules = [];\n\n  /**\n   * Story Modules\n   */\n  @Prop({mutable: true}) store: AppState = state;\n\n  /**\n   * AddonsManager instance\n   */\n  // @Prop() addons: AddonsManager = addonsManager;\n\n  /**\n   * Create story context\n   */\n  private createContext(story: StoryComponent): StoryContext {\n  const context: StoryContext = {\n    args: {...story.args},\n    argTypes: {...story.argTypes},\n    parameters: {...story.parameters},\n    initialArgs: {...story.args},\n  };\n  return context;\n}\n\n  /**\n   * Listen the 'hashchange' event and get path from URL.\n   * First available story could be selected if there is no one was specified in the URL's path after hash\n   * Method will emmit the 'story' event\n   */\n  @Listen('hashchange', { target: 'window' })\n  onHash(): void {\n    // Get path from URL's hash or default value based on first story\n    const storyId = api.getStoryIdFromURL();\n    // Set story in state\n    const story = state.story = (storyId ? state.stories[storyId] : undefined);\n    console.log('onHash',storyId, story)\n    // We have to update the URL's hash to keep it in sync\n    api.selectStory(storyId);\n    // Send custom event about selected story\n    this.storyChange.emit(story);\n    console.log('storyChange emit', story)\n    // Create context for story\n    const context: StoryContext | undefined = story ? this.createContext(story) : undefined;\n    state.context = context;\n    // Send custom event about selected story\n    this.storyContextChange.emit(context);\n    console.log('storyContextChange emit', story)\n    // Inform Addons about changes\n    // this.addons.storyContextChanged(story, context);\n  };\n\n  componentDidLoad(): void {\n    console.log('componentDidLoad',this.modules )\n    api.setStories(this.modules);\n    // Update internal state and sync it with hash\n    this.onHash();\n  }\n\n  render(): JSX.Element[] {\n    return (\n      <slot/>\n    );\n  }\n}\n"],"version":3}